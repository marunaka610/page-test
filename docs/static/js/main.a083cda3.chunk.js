(this.webpackJsonpreversi=this.webpackJsonpreversi||[]).push([[0],[,,,,,,,,,,,,function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){"use strict";t.r(n);var r=t(0),c=t(1),i=t(4),u=t.n(i),o=t(2);t(12);function s(e){return Object(r.jsx)("div",{className:"board",children:Object(r.jsx)("table",{className:"board-table",children:Object(r.jsx)("tbody",{children:e.renderSquares()})})})}var a=8,l=0,f=1,b=-1,m=2,j=[{row:-1,column:0},{row:-1,column:1},{row:0,column:1},{row:1,column:1},{row:1,column:0},{row:1,column:-1},{row:0,column:-1},{row:-1,column:-1}];function h(e){return e===f?b:f}function w(e,n,t){return!n[e.row][e.column].isExistPiece()&&j.map((function(r){return d(e,r,!1,n,t)})).reduce((function(e,n){return e||n}))}function d(e,n,t,r,c){var i={row:e.row+n.row,column:e.column+n.column};if(i.row<0||i.row>=a)return!1;if(i.column<0||i.column>=a)return!1;var u=r[i.row][i.column];return!!u.isExistPiece()&&(u.isSamePiece(c)?t:d(i,n,!0,r,c))}function v(e,n,t){var r=n;return j.forEach((function(n){var c=O(e,n,!1,r,t);r=c.piecies})),r}function O(e,n,t,r,c){var i={row:e.row+n.row,column:e.column+n.column};if(i.row<0||i.row>=a)return{piecies:r,enableTurnOber:!1};if(i.column<0||i.column>=a)return{piecies:r,enableTurnOber:!1};var u=r[i.row][i.column];if(u.isExistPiece()){if(u.isSamePiece(c))return t?{piecies:r,enableTurnOber:!0}:{piecies:r,enableTurnOber:!1};var o=O(i,n,!0,r,c);if(o.enableTurnOber){var s=r;return s[i.row][i.column].setPiece(c),{piecies:s,enableTurnOber:o.enableTurnOber}}return{piecies:r,enableTurnOber:!1}}return{piecies:r,enableTurnOber:!1}}t(13);function p(e){var n="square "+(e.piece===m?"enable-set":"");return Object(r.jsx)("td",{className:n,"data-row":e.row,"data-column":e.column,onClick:function(){e.isEnd||e.useGameState((function(n,t){if(w({row:e.row,column:e.column},t,n)){t[e.row][e.column].setPiece(n);var r=v({row:e.row,column:e.column},t,n);e.changeGameState(r)}}))},children:e.piece===f?Object(r.jsx)("p",{className:"piece-black"}):e.piece===b?Object(r.jsx)("p",{className:"piece-white"}):void 0},"row"+e.row+"_col"+e.column)}var x=t(5),S=t(6),k=function(){function e(n){Object(x.a)(this,e),this.state=void 0,this.state=n}return Object(S.a)(e,[{key:"getState",value:function(){return this.state}},{key:"isBlack",value:function(){return this.state===f}},{key:"isWhite",value:function(){return this.state===b}},{key:"isEnableSet",value:function(){return this.state===m}},{key:"isSamePiece",value:function(e){return this.state===e}},{key:"isExistPiece",value:function(){return this.state===f||this.state===b}},{key:"setPiece",value:function(e){this.state=e}}]),e}();t(14);function P(){var e=Object(c.useState)(f),n=Object(o.a)(e,2),t=n[0],i=n[1],u=Object(c.useState)(!1),j=Object(o.a)(u,2),d=j[0],v=j[1];var O=Object(c.useState)(function(){for(var e=[],n=0;n<a;n++){for(var t=[],r=0;r<a;r++)3===n&&4===r||4===n&&3===r?t.push(new k(f)):3===n&&3===r||4===n&&4===r?t.push(new k(b)):t.push(new k(l));e.push(t)}return e}()),x=Object(o.a)(O,2),S=x[0],P=x[1];function E(e){e(t,S)}function y(e){console.log("enemy turn:"+h(t));var n=e.map((function(e,n){return e.map((function(e,r){return e.isExistPiece()?e:w({row:n,column:r},S,h(t))?(e.setPiece(m),e):(e.setPiece(l),e)}))}));if(T(n,(function(e){return e.isEnableSet()}))>0)return P(n),void i(h(t));var r=e.map((function(e,n){return e.map((function(e,r){return e.isExistPiece()?e:w({row:n,column:r},S,t)?(e.setPiece(m),e):(e.setPiece(l),e)}))}));T(r,(function(e){return e.isEnableSet()}))>0?P(r):v(!0)}function T(e,n){return e.reduce((function(e,t){return e+t.reduce((function(e,t){return e+(n(t)?1:0)}),0)}),0)}return Object(r.jsxs)("div",{className:"game",children:[Object(r.jsx)(s,{renderSquares:function(){return S.map((function(e,n){return Object(r.jsx)("tr",{children:e.map((function(e,t){return Object(r.jsx)(p,{row:n,column:t,piece:e.getState(),useGameState:E,changeGameState:y,isEnd:d})}))})}))}}),Object(r.jsx)("div",{children:function(){if(d){var e=T(S,(function(e){return e.isBlack()})),n=T(S,(function(e){return e.isWhite()}));return e>n?"Black Win":e<n?"White Win":"Draw"}return t===f?"Turn is Black":t===b?"Turn is White":void 0}()})]})}function E(){return Object(r.jsx)("header",{children:Object(r.jsx)("h1",{children:"Reversi Game"})})}function y(){return Object(r.jsx)("footer",{children:Object(r.jsx)("h4",{children:"by Marunaka610"})})}function T(){return Object(r.jsxs)("div",{id:"content",children:[Object(r.jsx)(E,{}),Object(r.jsx)(P,{}),Object(r.jsx)("br",{}),Object(r.jsx)(y,{})]})}t(15);u.a.render(Object(r.jsx)(T,{}),document.getElementById("app"))}],[[16,1,2]]]);
//# sourceMappingURL=main.a083cda3.chunk.js.map